---
import Pokemon from "../components/Pokemon.jsx";
import Footer from "../components/Footer.jsx";
import Layout from "../layouts/BaseLayout.jsx";
import Header from "../components/Header.astro";
import styles from "/style/Home.module.css";

const response = await fetch('https://gist.githubusercontent.com/DavorJ94/2f07667b4260a3c179005eb42be92f6f/raw/5124650c1ac780e2b7de1391fe228c65b339bcc8/pokemon-data.json');
const pokemons = await response.json();
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Pokemon | Astro | Home</title>
    <meta
      name="description"
      content="Pokemon API Astro framework app created with React"
    >
    <meta
      name="keywords"
      content="HTML, CSS, JavaScript, React, Astro"
    >
    <meta name="author" content="Davor Jovanovic" >

    <link rel="stylesheet" href="/style/global.css">
</head>

<body>
    <main>
    <Header />
    <Layout>
        <div>
        <div class={styles.container}>
          {pokemons.map((pokemon) => {
            return (
              <a href={`/about/${pokemon.id}`} key={pokemon.id}>
                <Pokemon name={pokemon.name} src={pokemon.sprite} client:visible />
              </a>
            );
          })}
        </div>
      </div>
    </Layout>
    </main>
</body>
</html>
